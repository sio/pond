# Machine identity based on hardware configuration

This tool calculates a hardware fingerprint based on information exposed to
Linux system and derives a deterministic SSH key pair from it. That key pair
can be used for machine-to-machine authentication.

## Security

Although author is not aware of any successful attack vectors you should keep
in mind that this tool was created by a hobbyist for personal use.

Deterministic key pair is no doubt less secure than a truly random (or even a
pseudo random) one. Author recommends to use only `ssh-keygen` to create keys
for anything you care about.

## Usage

#### Build

    $ make build

#### Run

	$ bin/metal-id@linux-amd64 -help
	WARNING: When running as non-root some data sources will not be available.
	WARNING: Hardware derived key will not match the one generated by root.
	Usage of bin/metal-id@linux-amd64:
	  -output string
			private key destination path
	  -paranoid
			use extra paranoid data sources for fingerprinting
	  -unsafe
			print non-obfuscated debug information (unsafe)
	  -verbose
			print some information about fingerprint data (safe)


#### Sample output

	$ bin/metal-id@linux-amd64 -verbose
	WARNING: When running as non-root some data sources will not be available.
	WARNING: Hardware derived key will not match the one generated by root.
	Reading Block devices
	  xxxxxx.xxxxxx.xxxxxxxx.xxxxxxxxxxxxxxxxxxxx [len=43,check=14]
	Reading CPU information
	  xxx [len=3,check=178]
	  xxxxxxxx [len=8,check=42]
	  x [len=1,check=60]
	  xxxxxxxxxxxx [len=12,check=215]
	  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx [len=30,check=145]
	  xxxx [len=4,check=224]
	Reading DMI table
	  xxx. [len=4,check=130]
	  xxxxxxxxxx. [len=11,check=207]
	  xxxxxxxx. [len=9,check=200]
	  xxxxxxx. [len=8,check=108]
	  xxxxxx. [len=7,check=106]
	  xxxxxx. [len=7,check=106]
	  xxxxxx. [len=7,check=106]
	  xxxxxxxxxxxx. [len=13,check=16]
	  xxxxxxxxxxxxxx. [len=15,check=226]
	  xxxxxxxxxxxxxx. [len=15,check=226]
	  xxxxxxxxxxxxxx. [len=15,check=202]
	  xxxxxxxxxxxxxx. [len=15,check=202]
	  xxxxxxxxxxxxxx. [len=15,check=202]
	Reading Network interfaces
	  xxxxxx.xxxxxx.xxxxxxxxxxxxxxxxx. [len=32,check=9]
	Reading PCI devices
	  xxxxxx.xxxxxx.xxxx. [len=19,check=148]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=74]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=75]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=16]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=16]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=2]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=219]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=136]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=94]
	  xxxxxx.xxxxxx.xxxx. [len=19,check=83]
	Reading USB devices
	  xxxx.xxxx.xxxxx.xx.xxxxxxxxxxxxxxx. [len=35,check=132]
	  xxxx.xxxx.xxxxx.xxxxxxxxxxxx.xxxxxxxxxxxxxxxxxxxx. [len=50,check=20]
	ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJ+V0vo2Rn/9fXeg5M9QuE32WjXWBomj9QT/HuPCctSf
